# Source: keyrock/charts/keyrock/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: keyrock
  labels:

    app.kubernetes.io/name: keyrock
    helm.sh/chart: keyrock-0.4.4
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "8.1.0"
    app.kubernetes.io/managed-by: Helm
spec:
  type: LoadBalancer
  ports:
    - port: 6080
      targetPort: 8080
      protocol: TCP
      name: http
  selector:
    app.kubernetes.io/name: keyrock
    app.kubernetes.io/instance: release-name
---
kind: Secret
apiVersion: v1
metadata:
  name: keyrock-sec
data:
  cert: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUdlakNDQkdLZ0F3SUJBZ0lVVWxpTFBLNlI3T2V2aU5EUlkyZHRJL0c3WVFBd0RRWUpLb1pJaHZjTkFRRUwKQlFBd2dZd3hDekFKQmdOVkJBWVRBa1JGTVE4d0RRWURWUVFJREFaQ1pYSnNhVzR4SHpBZEJnTlZCQW9NRmtacApkMkZ5WlNCR2IzVnVaR0YwYVc5dUlHVXVWaTR4Q3pBSkJnTlZCQXNNQWtsVU1Sd3dHZ1lEVlFRRERCTkdTVmRCClVrVmZTVTVVUlZKTlJVUkpRVlJGTVNBd0hnWUpLb1pJaHZjTkFRa0JGaEZtYVhkaGNtVkFabWwzWVhKbExtOXkKWnpBZUZ3MHlNakV4TURrd056UXhOVEphRncweU56RXhNRGd3TnpReE5USmFNSUdZTVFzd0NRWURWUVFHRXdKRQpSVEVQTUEwR0ExVUVDQXdHUW1WeWJHbHVNUTh3RFFZRFZRUUhEQVpDWlhKc2FXNHhFakFRQmdOVkJBb01DVWhoCmNIQjVVR1YwY3pFU01CQUdBMVVFQXd3SlNFRlFVRmxRUlZSVE1TTXdJUVlKS29aSWh2Y05BUWtCRmhSb1lYQncKZVhCbGRITkFabWwzWVhKbExtOXlaekVhTUJnR0ExVUVCUk1SUlZVdVJVOVNTUzVJUVZCUVdWQkZWRk13Z2dJaQpNQTBHQ1NxR1NJYjNEUUVCQVFVQUE0SUNEd0F3Z2dJS0FvSUNBUUNzZUdNZFVzWFBPNDdkWVNjMTYzT3dGWCs3CmRFakEwY3lzVTgxak8vS3VOb2FXeFhxU2IzNHhlNmY2cWhkbmxJVHVPYmZnNUcyVUlxSzNmZ2ZDUUJ1YStjOGcKYXVLLzN2Zlh2UFFrSkFsWGc0Wk56QnNBU2svYTl5RHVGK0xiY0N6OHlURE9DMkpnZ0QxZ1hvT0xvU0ZpbXRZVQoxeW9GbGpSYmtTcGcyc1hMNytVQTZYOFRreG1OeDByVGtKZFpvajEwMTVwZWlNcEJnWEpiNU5DYmxmODdJbVBOCnZLaFNicE1BR0Vwa1E3VGZuZGRzaUVjTWc4Snk0dGcrdTI2NmRxT3hTdnEvWGxzYmpLemplYjBjZHowKzhLYWwKV0FpTTREa1EyMG9rRjhnZDlJMXZMWEJFRjVNY3Z2SUViRmlvM0pZdklpUFF0ZC9BVlZRSDRISFBISkZhSWUySwpLdlRIMlVVbzhYemJ6TlBMNWpzTFFDMWpUd0NKTU40RTRrVDhRS0NSTXVqT25yc01KOWFmcnhnMTZzT09OcTJvCmdIS2U2c0FDNGN2WlN2VHRYbjBjVkc5ZFJCOU84WjZVRWtITHJXSy94SkVENU5tNURSbzFvV2tIWGZwSWkvQS8Kc0pRNWhqeVhDRUU2TzlOMnlsekZmUFdGeVRBZGNDS0RSeDdaa1RnZ1dkZFozcEZkNW9DWGFwOXZpVFZ6MFc4dApaTEJXU0NpbFA3MGNlR0ExRFFVUUw0cFdkQUhsS2pZNFg3bGZ2cmhvQXlMMVhzM2pGV2h4R1JkaVRIRUdnVlA4CmNydWcrQ1FLZ3ZLWk5TQThCSDZEdzhqemlLTVhvQkQxSUwvK0I0eGt5aiswRGRRVFRJblY1dVE0UVRDaFVwTlIKdkU2clZ5ZklVV0pzVTdZL2pRSURBUUFCbzRIRk1JSENNQWtHQTFVZEV3UUNNQUF3RVFZSllJWklBWWI0UWdFQgpCQVFEQWdXZ01ETUdDV0NHU0FHRytFSUJEUVFtRmlSUGNHVnVVMU5NSUVkbGJtVnlZWFJsWkNCRGJHbGxiblFnClEyVnlkR2xtYVdOaGRHVXdIUVlEVlIwT0JCWUVGSnhDQmFVYmZodDlkSEQyQVVMN3ptRXJVOEJHTUI4R0ExVWQKSXdRWU1CYUFGQ2RWWGFpNHBpVnJWRURnLzZMTnVGNGYwbzBPTUE0R0ExVWREd0VCL3dRRUF3SUY0REFkQmdOVgpIU1VFRmpBVUJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3UXdEUVlKS29aSWh2Y05BUUVMQlFBRGdnSUJBSWZDClZpQlRxdFNnQ0JDWmg0aVU4ZHVDMnlnNml0dGEycXRpZms0M09QK1IxWUw5Q3E2cXZtL285RWt5TG1nNXFjMW4KOHd3by9vdzk1NGJxWDAvZkxkbDVTZi8vS3Axd1FTSWF1RGhVTm9QT0NOWkYwMGtCOEw1Y2t3NmpCMFBsN0pYYwp5czBFdUFEQlZHcFdScUF6VHpxYVlhV0hDdTYxR05ZQVI0V2M0MDVESSthTFArMEdTRjN5cWdtNHcrQm4yeVhaCjBCZVZ6S0RYNEcvNUdpN0FhT1hCdjZxQVNwKzVKODVXMGhRU0FmRWIzTzdOSldhaFRQditSa1A0ekpjQVV3MGwKQWl3YVBVNlJFM0xtZkRIcEd3RGRMNmVqb1NIYzNxTVlGSG5vTUZuKzdTbitCNDdhVWJ6ckpsQjdUaVFtUzFkMwpTTXQyNXJPZzNYYVVhMXRrdFN3QTl0dHo1QThjL09xalFVODFYT1o4VjZCZzZvdFUycDdldWtwdXhRVG9tU1hwCjF5WWp0TU9NbnNmeWRlUXZsTzFrZ2c3VWJ0em9sdStvaHIzN1ErWDlwSi9Uc1dwTE90cWRVd3lXR1N0WmJwN2gKdXdYUlNSd2NUN1Qvb3E2ZmMyS3cwcGU4WmxkMEpKWGRreXVndlhSK3NxL1VLZzFJVXd1ejFWYVJkbzd0a2xIdgp5cTBTS1NyNThYbkE3cFp3TlYxbzBDTTBtZUxGOUpSQTJjaGhCK0dyM0s4VlN2N05XRmhobjJxdk1DYzg1QnF6Ck9kMkU2YVEyRHhpU2F3Q1BGNEJCenB3dUpSaU1BbnR0SWppc0xPVGlWNEVLYi9DbGdEMGtZU2dCUU9yWis1YmMKaDIxalMvUGVJZmY2OXBZRW0wQ002Q1NQcTFTNVkrZk5vcEkrS2FXZQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCi0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlHQWpDQ0ErcWdBd0lCQWdJQkFUQU5CZ2txaGtpRzl3MEJBUXNGQURDQmt6RUxNQWtHQTFVRUJoTUNSRVV4CkR6QU5CZ05WQkFnTUJrSmxjbXhwYmpFUE1BMEdBMVVFQnd3R1FtVnliR2x1TVI4d0hRWURWUVFLREJaR2FYZGgKY21VZ1JtOTFibVJoZEdsdmJpQmxMbFl1TVFzd0NRWURWUVFMREFKSlZERVNNQkFHQTFVRUF3d0pSa2xYUVZKRgpYME5CTVNBd0hnWUpLb1pJaHZjTkFRa0JGaEZtYVhkaGNtVkFabWwzWVhKbExtOXlaekFlRncweU1qRXhNRGt3Ck56TTVNemRhRncwek1EQXlNVEF3TnpNNU16ZGFNSUdNTVFzd0NRWURWUVFHRXdKRVJURVBNQTBHQTFVRUNBd0cKUW1WeWJHbHVNUjh3SFFZRFZRUUtEQlpHYVhkaGNtVWdSbTkxYm1SaGRHbHZiaUJsTGxZdU1Rc3dDUVlEVlFRTApEQUpKVkRFY01Cb0dBMVVFQXd3VFJrbFhRVkpGWDBsT1ZFVlNUVVZFU1VGVVJURWdNQjRHQ1NxR1NJYjNEUUVKCkFSWVJabWwzWVhKbFFHWnBkMkZ5WlM1dmNtY3dnZ0lpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElDRHdBd2dnSUsKQW9JQ0FRREZhd2ZWVm9VcUUvSFljZ0hOUGpqSzR4SEE1Q2xXSXg0bHZYc2tDc2hLOTVLbmVQZGtPU0s4TGhwNQpzUUIvSzBBNmJVOUlBN0xlTmhsb1RRMXUrcG4wSC9tbDBYQUgrMVFWbURVUnh5NTBtQzBGS3A0c2NNVnNXNlBzCjIxQTJRYVJZQURaajlCakZ0N1VldUNXQXREWHVwdUV3LytTUExuREJ5ZlkzbkVuaE9XZXJOZmRYaUFocDJTVFkKcE9hMUEvT1RBUkxXei93SlNyVHluQzdzV2NFL1FDVzVZdUsra09IMUt5VWxGWS9OTFkrN245RTZySHRlMmhqRwpTZ2llNEVIN3hwczJWTGNtSmhLZTVzVVhXY21vUG5JWTQyaU5nTUZjWXkweFFUOW9XWTRmb2hMOVF5NnlCMzBwCnlLRnV1ZWpGMzludEI2Vk1KMEpvemc4MTZDaWdKb1A5eWpObU5TTGhOR0NwOXNxRDgzcW5WNW5JSnRvUWlqQ1oKajE1dllMZEt2RzdpTTlqa09QMDlWOWtZNlFVV0JlRlR1SGUwbjc3RDRGTWV5NnJDMUdIZU5YVHdTT3JldGJEOQp6bDlUeDlCTlBSc1g5TU5Lb1hpZjJzVDJlS0EwSUpzMmdVQVBDbmNWT1JNYXg2WXVYa2RaS0J5aFJpdE5sMzNwCkxMQVRBTnpkZzJZZ0h3QmVnZ1kxSGZGWURWYysrdDFjWlVpdEhUS1hlUTVZVytiMlJzKzUrZC9hTkE4cEFpcEcKWm9NTDlHb0UybERQVEZlZ2pYbjR2RGc3RmFWRkl5NkcxRDZUV1NtYjZXSjZiK3pBazNHZmxjM3d1WVh0cEk1WQp4NnlucGQrK09aN29WQ2NLbXU3YVNmRStLMmtlZmQwTWFJTTI4bWV1MHFRMTBqNDQ3UUlEQVFBQm8yWXdaREFkCkJnTlZIUTRFRmdRVUoxVmRxTGltSld0VVFPRC9vczI0WGgvU2pRNHdId1lEVlIwakJCZ3dGb0FVV2NFd0ErVTAKYzVwUU5uKzVobFg1RWhhaVpDY3dFZ1lEVlIwVEFRSC9CQWd3QmdFQi93SUJBREFPQmdOVkhROEJBZjhFQkFNQwpBWVl3RFFZSktvWklodmNOQVFFTEJRQURnZ0lCQUVUQ044dVNaK0M3ZVRzNFNzc2NVVGl2bHcrZUk2Wmk3bHZQCkFqUmtITFNwQ1NrZ3RINUVwK1F0WExqajFsaTRPeUxMODFHNlZ2SnFla3RyMENDazk0QWt4THk0RFpIQVdCdEEKdkwwazhVWUh2ZGhTWlVCV2hNY1J1bTUxZzh5dlZGSUpDS1BmT0NzZnpiakdLZE9rdjRUNVJLQnJBY0ZJRkN2TApkQmwxajdkSFJBUnRDeStHeXVwNG9QcWx1bHQ1Q090dlRKSjdZdmQ2TW1xZzhUYkR2RDRDNXZoN2s2d1QvYXIrCnJsV2lNSjhWRzhDcEVKRC83TUdXUDN3b0hSZjZXVU5MeGo1VlJzUys0TzZiNWNYc3JyeG9nMVlra1JONlpEdUgKRzhOZHNkdWZFMkp6SzJ3T2xmeGhHc2dSSVZoZVFxUzNrZ3hYRXBlRkI4RlhKS3Q1N2UrUkQzZm5xaDhVQStuZwozZ2hJYW5XTDdrUEkwL2pRYzh5eG9aeEFaOHBqaVR1b1UySk83L2VZSEFMSi9HRmtEVGt5RERLWTJjYmlWRUZQCkZZTTZsTDNPVjdkVjk5QlJHY2x2Mm5pdW8yRmZML1hUa1VKUENlQW5JN245TmdPS1krVlhENXlFZkFzTFZxWm0KQUFuSnFZY2RxTjNXQU5mbjMwUTZ3UmlhaW1MU3dSTVk4ZzREWHNGeTh4TWlaY2Y0dEtwTGcvSXAvbVV1TU5aQgp0S3BETVNDaWtNb1FpdXUxK0Fra0d0V0ltd3ZTM0puWGlwRUE2WnVBQllUSHpJR0VjYzc2VDNzZzlLSWdaVktSCmE1MTBnN0Y4Q0FhYUFVa3FYUHBtV0MwU1hqWjUwc3JJaUZpbmFFOHg0NUJFbG1XQ0hsY0lUOWdLemthdHFiVk8KakRPVUtWTHAKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJR0NUQ0NBL0dnQXdJQkFnSVVFNGVablJScWF1YjlrQyszUHFEWU5mVlU4SWN3RFFZSktvWklodmNOQVFFTApCUUF3Z1pNeEN6QUpCZ05WQkFZVEFrUkZNUTh3RFFZRFZRUUlEQVpDWlhKc2FXNHhEekFOQmdOVkJBY01Ca0psCmNteHBiakVmTUIwR0ExVUVDZ3dXUm1sM1lYSmxJRVp2ZFc1a1lYUnBiMjRnWlM1V0xqRUxNQWtHQTFVRUN3d0MKU1ZReEVqQVFCZ05WQkFNTUNVWkpWMEZTUlY5RFFURWdNQjRHQ1NxR1NJYjNEUUVKQVJZUlptbDNZWEpsUUdacApkMkZ5WlM1dmNtY3dIaGNOTWpJeE1UQTVNRGN5TkRVMldoY05Nekl4TVRBMk1EY3lORFUyV2pDQmt6RUxNQWtHCkExVUVCaE1DUkVVeER6QU5CZ05WQkFnTUJrSmxjbXhwYmpFUE1BMEdBMVVFQnd3R1FtVnliR2x1TVI4d0hRWUQKVlFRS0RCWkdhWGRoY21VZ1JtOTFibVJoZEdsdmJpQmxMbFl1TVFzd0NRWURWUVFMREFKSlZERVNNQkFHQTFVRQpBd3dKUmtsWFFWSkZYME5CTVNBd0hnWUpLb1pJaHZjTkFRa0JGaEZtYVhkaGNtVkFabWwzWVhKbExtOXlaekNDCkFpSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnSVBBRENDQWdvQ2dnSUJBT29QblhBdFdGRzZCc2RyNFR2QlVXMTIKd3BjUllIOWZpRG01TWM2ZzZWZGlMOUkxdFdNYmhmTzdEUHlPYW9xaDZ4bG9ETCtYb2VSRW1vSWZKSnBZM2JkdQp6UHN3VGluYU1kN0grYU1QNndXRHNBSUFCaG13NVB1aTNVYnBVWmVGZW8zUk1lNWY4SmpMNEtQZ2pXQ1gxbGx4Ck82eXh5MWU4Z1NmR3BCa0VIcEpjOGxLUXdERTl6Z3l1aU9MUlVQUnRTZTBOSmFqY0JyclhpYVNQR2RYdkczOU4KWXpqQUFSbzVQQUVCRytVSEh6WkZlUzExTVQrR2JyeVpyeDlLYmRtVnNoZGxzR3FMLzJzVFk5dmVGcno1M1hMUgpHbXE4NlUrSVFaRUV2cDZaNWs1WndhbUJpQUNpUkRiU3doMU5ncCtCS05HMjZ3Q3ZCNGdmeFRPdVNISWZ6UmtQCkQ4dmRWN21ad3llRkhYb2dzTnFGLzhQbWR5ME9OY3FUaGg3dzdsVUZNVnlnazlxNTMxbjZRR1JScHdDZ0tBankKallONXIyTW82OCt0bXhOQ2VqSVBwby9Kc0FFS2xQc2g5bEg3S2hTRWpJYUh4Ly9RMmYvbmxsMVo0R2tYajdTawpBTHozUDRsalQzZVBlVDJ3bmxTcHlyQ0VQSWVNWFQ0N1oyeGRjOU1nWGhxeGlkZXA3c1VXRk1hSndLaHExbTFVCkpYSTIxNkdLVU4zeS8vV1N2UnU3dHF6eXVVUjlxc2ZZOTQ2RVVGNm00WFFqajl3a2U2SDd2VHBZOVUvendjOWoKeXgrZlhuSml1WWh0NmsyY0hhdjlHSzB3blo1Q3Q2QTErNDNlUlI0M0VKMTFPTTlNbCtKNHRkZnVrU3JXNnBwbQp6KzRZeGZlNVJSdHpQZVh4bmNqYkFnTUJBQUdqVXpCUk1CMEdBMVVkRGdRV0JCUlp3VEFENVRSem1sQTJmN21HClZma1NGcUprSnpBZkJnTlZIU01FR0RBV2dCUlp3VEFENVRSem1sQTJmN21HVmZrU0ZxSmtKekFQQmdOVkhSTUIKQWY4RUJUQURBUUgvTUEwR0NTcUdTSWIzRFFFQkN3VUFBNElDQVFER0Z4RWxDMlNxNi9FT2NielE3dGphcWM1ZAp2MkZDV1RUUVlRTGlTK1ZRcWNKcUduTW5Fd1dVRENlYWNRNkJheGRUVytqYjF6WDY2RGdmTko0MFlyMllEVnY0CnFyK0tLQ1crcThjS1FVdGUvWG1jcExKdHJYdFlaUU1lTFVmd0JsRjJ5QXZtYjMvMmNkYTBWSWhzZW0yQklGQ0UKMjI3K3dPWXFIU3Fwa3FmVmNpemxqbllMVHd2VEJRejVQMEpxOS93UGNqQjdmeGZrbzJtWmphUFFGZkV1TFBNVApKdHR2NzcxMVRKQ3JwMGd6bW5JQ1MxQmEzdnRjZFpOK3JkNklvU1FtdWRuT2NHREprc2xMNzdUNEJ6alhEa2F4CmZ1Q29RNmYvaHdYSnVKRjNmUUhkNk9zSkhEZ1ZBSlE3OE55YjVQLzJLTXBkWS9ua3VkZUJHM1pjRUpQN3VwdGMKUW5XbU1NTGJmdUd1WG1Bdlh5S0pKM2J3MDFGOStWZm81T0x1ZDRJVm52MFFEbFhMSEJEZEdFckJUVDZtNVhaTgpTeUJYYnFwMXhJdWkrSnVmbTRIWTBZN2tYMFF6ZlNIZE1YV2dpSWRtUjh6MHgxNVBRZy91RmloWGpwL1J5cURyCkcrVGluM1RYQnFKUmREeFlDd2Rub3V0UW5xdFlDYnNpZG9MdjJaQTB2UWlHZnlrUE1wVTQ5ZEdLd1ZDWkJ3MXkKTGY4WDBRRzVWeHA5TzQyalh6U3k1cll3ckY3NkZUcHkraDdVcW1aTk9CWEpHMXJvS3JRV1oyT2llRk1wL3JURApZVVJ5aHFXcXFXMnU3VWVoWXM2ZW1tU3dZdjhqMHY0Q3pwSDUxN2pwMlJKTnlpbkkzVFptZ0QwQUFLenlKQWwvClpxYXQ4dC9iYVRTM1RVZElLZz09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
  key: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlKSndJQkFBS0NBZ0VBckhoakhWTEZ6enVPM1dFbk5ldHpzQlYvdTNSSXdOSE1yRlBOWXp2eXJqYUdsc1Y2CmttOStNWHVuK3FvWFo1U0U3am0zNE9SdGxDS2l0MzRId2tBYm12blBJR3Jpdjk3MzE3ejBKQ1FKVjRPR1Rjd2IKQUVwUDJ2Y2c3aGZpMjNBcy9Na3d6Z3RpWUlBOVlGNkRpNkVoWXByV0ZOY3FCWlkwVzVFcVlOckZ5Ky9sQU9sLwpFNU1aamNkSzA1Q1hXYUk5ZE5lYVhvaktRWUZ5VytUUW01WC9PeUpqemJ5b1VtNlRBQmhLWkVPMDM1M1hiSWhICkRJUENjdUxZUHJ0dXVuYWpzVXI2djE1Ykc0eXM0M205SEhjOVB2Q21wVmdJak9BNUVOdEtKQmZJSGZTTmJ5MXcKUkJlVEhMN3lCR3hZcU55V0x5SWowTFhmd0ZWVUIrQnh6eHlSV2lIdGlpcjB4OWxGS1BGODI4elR5K1k3QzBBdApZMDhBaVREZUJPSkUvRUNna1RMb3pwNjdEQ2ZXbjY4WU5lckRqamF0cUlCeW51ckFBdUhMMlVyMDdWNTlIRlJ2ClhVUWZUdkdlbEJKQnk2MWl2OFNSQStUWnVRMGFOYUZwQjEzNlNJdndQN0NVT1lZOGx3aEJPanZUZHNwY3hYejEKaGNrd0hYQWlnMGNlMlpFNElGblhXZDZSWGVhQWwycWZiNGsxYzlGdkxXU3dWa2dvcFQrOUhIaGdOUTBGRUMrSwpWblFCNVNvMk9GKzVYNzY0YUFNaTlWN040eFZvY1JrWFlreHhCb0ZUL0hLN29QZ2tDb0x5bVRVZ1BBUitnOFBJCjg0aWpGNkFROVNDLy9nZU1aTW8vdEEzVUUweUoxZWJrT0VFd29WS1RVYnhPcTFjbnlGRmliRk8yUDQwQ0F3RUEKQVFLQ0FnQWdRRGJRZ2V6cGJvcXRqUUJIRGV0Skx3ditvcVVFSVhjemRrdysxVFB4TGRNSEdKQnVGNWt5YVp3awp2Rys1OThUUHcwMUdLWkR3RlhYMStBUTlaNzJCd2xyZ0JmeTJ3bHY0SktaR3A5SnpZZTNZV0dWb0xYMDNSZVVMCmdMMzBLTXJRemxKcEJTbjFQNlc2Z3BINHB6M1Y4WHc4MDJ0Uk5pQStTeXZ3aHBoY0pWVGVVY3RvZnFaVm84R3oKUkNONUtHUnpsK21PNmVkZ1RuTnpDWnVVckh6WXN2cVV1MFdDZkpqU2VMaFlmV3l5TUJMYmdiUS9lOWY5b2J1cwpKMkp5VGNNWVlSdjRjdzE0WGxycUFwYkJYdTY5K1VSQVFQRUFYdUZzN0lTMXNSakR1VHBGWXVyT1lOWXFsdTRzCnM1SDBxYU1QMTBONVFMbEJmdk5Dc2M2Mld2STI2T3I0cW1BZ1VZb1lOUURzbkVMcUFYUmswZUtiRXFjSDJsRlgKVFAzeHZnS1kwLzJjREgwNUYyVHhXdmYrWXNkNmE0TGFUcVJtcmpHSzRuL21DcDRLd1FmUlJET1dFRm5ZaEZzUQpLQm50R1VDU1k2UzdZY3p3dVd5TVRCRXZnOUp6WmtzVGZQdWNIQ2liS0xpbjJkQm50aURBd2FkWG1pY0JqY2Y3CkFMc3o2ODc1RUd5ZTk2TlQ0TUxkbHZ5dElEK0xUaGNJN3BQUmkwZDc3c2IwaDV5aFYzU0ZpaUVvV25GNldlV0IKemlTcFJldDdTNVJFRXVmeURXa2VKZlNzem90bEUrbktLQ0NSNmlHcVVmeENETGxETngvcWtjNjN0eUtZQXZEWApwN3ltTHZ1ZUlVQkdhdWVCaWVnSUNndkdDVkRGWDRCWDl6dStLenpqWDVRQ21GZWNnUUtDQVFFQTE0ZFNpYXh6CnRobEJmM1pSYmYvV3hBaUdqd2dXY2VYZnhqRjNIcEJ3cnExaHJWWDhXOVA5a2pWV1ozMmsvWWdiVVhHT1hKWEQKRkNSOGZhNVdXK0dNbUxsS1FjSjhjbmN0TEdYZXFXRVVRa0x1SnJxQU5iOGprTndZcG95L3VHTzRqUlZnN2RLNwpuTWM4Qm5LOU54NEM3d2tOMGM4QTZmN0lUT1M4YVd1MGFKbmJoSTRaMTlLcXlMRCt3aFFUemVna1plVEpiTzFWClg3R3NSSi9POTlpbUFJT09jNnVtWWM2clAwOTFEYWM2RWFVWUxWdEtXakJuR3BINjJxUk83RERtU0RxMFVvRFUKRFVsRm41MmFCbit4c0hLRkF0SGtGbDlMaG12Zy90MGkvd2hFV0VFTk1HdThRcngvNGNRb01LS0FQUzBoWm9YaAp0SFVhTGR6bzFxbVBiUUtDQVFFQXpOczA4dXc3eVl3VmxvNzA0YnNuL2R5OWxzWTd1cDBRWDVrOUw5MlpOano5Cnl1clQ0MzZ1WllxMXdxZjRRQ1V0TUFpOUlVZE45enR1azRTVzZnOThIWUp1TXo2NUFVbGIvQ3RrTUNsSVBiMEsKU1B1SHFhcDFtYlpCRUdNcjhvRDFTekltbVNtMUVKeDBNV0F1SVUwVDlvNmd5VUFGQ2dEYXRZb3NpbmpVUU8rTgpaUTNGQzNzTWhYZzZ1TCsvSldLckp6bWNVSkZqZTdhNUF4TmZ0Sy9sc2ttTFNhSERuRzNUVFFXa3p2V0ZHNVh0CjBoSWdEdFJuU3JjakQ0a1pIYkZLdEttYSthRzR5VVhzSllTLzB5cXBuTktvOTNXcEIwM3lTN2hJMHdXdUVPV2QKaUxGdU5YLzZRbnZ1V0JvYmgvYVZPU0JER2tiRGJva3VXUzJ3Mmx1OG9RS0NBUUFsR3h3ZnJid0NKdGo2NjlEYgpJa2ZFV2o5b1Vwa2lwTlBnMkZWTXdzdFRsM0FRbXBRbTd4bGgyYUwxa0ZFZWdSZEs3MFQyTmFadlNsVFFnbnBGCnVWQXVYd0FrMENvQ3Z2ZmRBL0RRc25EOWMyNXk1bnI2UmQwR3JJM2w1cWQvUkZQYW5rcWd4ejRib01WNXlyaysKeXdEd1RGdS91bWJLNGwxenQ1R2tpTEYzckwxNVZjbW5PWkxEbUkxVHRvY3VWUUFuTnJ0aThIMVpTMHFBU2c4awo1bnkxNi9CVGc4TFNaZlZmb2Z0aURWOVcrRmh3UHA1UFpyUHBoQ1p2REFpMmF6aktTS2tRNXpNYTBubVZJRm9MCk1tTFNJUFU3WmcxaHVLaFZEUytnVVV3Y0lqMDZBSUVYekFTT2JNdUxmK3ozYXBLdmRaeWhmUDA5eDBkcGkvWGUKTnpVRkFvSUJBQ2gzZk9RbnlqK3NEbStwV2JKbG1DYkx2aC9VbE9QdU50ZkxtNHlqQjZyeExXa3lMaDBZWHpicgp5YS9rSW1QNWRBMnpERGxRcnBRU0Iydlltejh0UStWSWFLQnkyWFRwbXVRYlpqVWxVb0h2bitKKzNYT2ttb3A4CnVDbVdqWTNmNzVTbEdYN1VBRktCdFdvemg2bElZcE1uNVpjYnNHTWpmQkMwZE12OXhsLzFja2J1QzJpVExBd0oKamdBRTBLdC83RE5aYkFsMlR1S1hXOERCeVB3V2F4ZG04NzdkMTVoRkVhSjdaTzBGRHdBK0E3YWxvZk9ML2NPQwpuY2hwMnE1RTRXOEN1ZnhwOStpNmlVVjREYlNYRHQ1TnR0YjdSU0tPUVRpMzlKcksybkc0Q2dDQW5EYXhTeXhxCjh0QXdpQk81b0F5aTFONlI3L1ViNEMzNW1wL24wMEVDZ2dFQUdJS1JFNGprcWlQYng2ZGJISWprNjV6ZHJOejMKWGFkKysyYXNiQ0pjYkdIZ09XVnR3emdvT2JRMVBiNE1sK3U2YTgrUXpIcUZYTFR3NzdCaGJMek9hclRhSEFmTgpZdEhaRHQwRFdNdFVBSVR6MEZoV2NkWkM5UTl0eXpGT01IeFcxY3h6QllmcGozME51VEtuVmN4ZGhRVlc4Nzd4CkNBOUdLS0pzME52VnVjc2RURVJFYUJ1WTZ2bEVWa0xoWVB5VzYwdXNKM3hJOTN3bWFnWWpKUkJqRWFmcUVnRGcKVjYvNndDMHdjbVNXTHdpdW5kUWFmTmJwRFFGWEo4S0s1TUVtNG9LZ0p0cWdsbDlVMFhwMWd1WjhoYXBpRFRVOQpiUFVRdWJidVppVS9qbEdPdHprdzBuMlI2MFkrTFJ2enpCRXduVE8xZ0JHZytmcWdOemp3SEVMSW1nPT0KLS0tLS1FTkQgUlNBIFBSSVZBVEUgS0VZLS0tLS0K
---
# Source: keyrock/charts/keyrock/templates/statefulset.yaml
apiVersion: apps/v1
kind: StatefulSet
metadata:
  name: keyrock
  labels:

    app.kubernetes.io/name: keyrock
    helm.sh/chart: keyrock-0.4.4
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "8.1.0"
    app.kubernetes.io/managed-by: Helm
spec:
  serviceName: keyrock
  replicas: 1
  revisionHistoryLimit: 3
  updateStrategy:
    type: RollingUpdate
  selector:
    matchLabels:
      app.kubernetes.io/name: keyrock
      app.kubernetes.io/instance: release-name
      app: keyrock
  template:
    metadata:
      labels:
        app: keyrock

        app.kubernetes.io/name: keyrock
        helm.sh/chart: keyrock-0.4.4
        app.kubernetes.io/instance: release-name
        app.kubernetes.io/version: "8.1.0"
        app.kubernetes.io/managed-by: Helm
    spec:
      serviceAccountName: default
      containers:
        - name: keyrock
          imagePullPolicy: Always
          image: "fiware/idm:i4trust-rc8"
          ports:
            - name: http
              containerPort: 8080
              protocol: TCP
          livenessProbe:
            httpGet:
              path: /health
              port: http
            initialDelaySeconds: 30
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 30
          readinessProbe:
            httpGet:
              path: /health
              port: http
            initialDelaySeconds: 31
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 30
          env:
            - name: IDM_PORT
              value: "8080"
            - name: IDM_HOST
              value: http://localhost
            - name: IDM_DB_HOST
              value: "mysql"
            - name: IDM_DB_PASS
              value: "password"
            - name: IDM_DB_USER
              value: "root"
            - name: IDM_ADMIN_USER
              value: "admin"
            - name: IDM_ADMIN_PASS
              value: "admin"
            - name: IDM_ADMIN_EMAIL
              value: "admin@fiware.org"
            #will be handled by the ingress
            - name: IDM_HTTPS_ENABLED
              value: "false"
            - name: IDM_OIDC_JWT_ALGORITHM
              value: "HS256"
            - name: IDM_TITLE
              value: FIWARE IDM
            - name: IDM_DEBUG
              value: "true"
            - name: DEBUG
              value: '*'
            - name: IDM_DB_NAME
              value: idm
            - name: IDM_DB_SEED
              value: "true"
            - name: IDM_EMAIL_SECURE
              value: "false"
            - name: IDM_EMAIL_AUTH_ENABLE
              value: "true"
            - name: IDM_EMAIL_AUTH_TYPE
              value: login
            - name: IDM_REGISTRATION_EXTENSION
              value: /?new_user=1
            - name: IDM_CSP_FORM_ACTION
              value: '''self'',*'
            - name: IDM_HOST
              value: keyrock
            - name: IDM_SERVER_MAX_HEADER_SIZE
              value: '32768'
            - name: IDM_AR_URL
              value: internal
            - name: IDM_PR_ID
              value: EU.EORI.FIWARESATELLITE
            - name: IDM_PR_URL
              value: 'http://satellite:6060'
            - name: IDM_PR_TOKEN_ENDPOINT
              value: 'http://satellite:6060/token'
            - name: IDM_PR_PARTIES_ENDPOINT
              value: 'http://satellite:6060/parties'
            - name: IDM_PR_CLIENT_ID
              value: EU.EORI.HAPPYPETS
            - name: IDM_PR_CLIENT_KEY
              valueFrom:
                secretKeyRef:
                  key: key
                  name: keyrock-sec
            - name: IDM_PR_CLIENT_CRT
              valueFrom:
                secretKeyRef:
                  key: cert
                  name: keyrock-sec